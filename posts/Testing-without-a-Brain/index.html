
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Exploring software technologies">
    <title>Testing Without A Brain - Coldflake Blog</title>
    <link rel="canonical" href="http://blog.coldflake.com/posts/Testing-without-a-Brain">
    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/coldflake.css">
    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">
    <!-- Custom Fonts -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Bitter:400,700,400italic|Ubuntu:400,500,700" rel="stylesheet" type="text/css">
    <!-- iconfonts -->
    <style type="text/css" media="screen, print">
        @font-face {
          font-family: 'icomoon';
          src:url('/fonts/icomoon.eot');
          src:url('/fonts/icomoon.eot?#iefix') format('embedded-opentype'),
            url('/fonts/icomoon.woff') format('woff'),
            url('/fonts/icomoon.ttf') format('truetype'),
            url('/fonts/icomoon.svg#icomoon') format('svg');
          font-weight: normal;
          font-style: normal;
        }
    </style>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-21532991-3', 'auto');
      ga('require', 'displayfeatures');
      ga('send', 'pageview');
    </script>
</head>
<body>
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <!-- <a class="navbar&#45;brand" href="/">Coldflake Blog</a> -->
            <a class="navbar-brand" rel="home" href="/" title="home">
              <img style="max-width:120px; margin-top: -7px;" src="/img/mountainBackgroundWhite.png">
            </a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                  <li><a href="/about">About</a></li>
                  <li><a href="/tag">Tags</a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
    <!-- Post Header -->
<header class="intro-header" style="background-image: url('/img/brainless.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Testing Without A Brain</h1>
                    <h2 class="subheading">How much Testing is good for your Development Process?</h2>
                    <span class="meta">Posted on August 16, 2014
                      <i class="icon-tags"></i> 
                      <a href="/tag/testing">testing</a>, 
                      <a href="/tag/rant">rant</a>
                      .
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>
<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div id="tagpie">
            </div>
				<p>Testing software is perhaps one of the most controversial topics among programmers. Opinions range
from “test first and test everything” to “tests slow us down”. As with so many things, the truth
lies somewhere in between. After making my own experiences in a lot of different projects, I have to
admit to myself that finding the perfect balance is still a hard a lot of times.</p>
<p>Starting out in a new project, time pressure usually is low and we programmers are highly
motivated to get our hands dirty with coding rather than eliciting yet another requirement. I found
that people tend to write unit tests more readily at this stage. And arguably the code quality seems
to be better than when working under tight deadlines. But that’s not necessarily related to the
tests, it could very well be attributed to the relative freshness of the people on the project.<br />
As projects get into a more intense phase the ratio between test-code and production-code usually
takes a hit. So is this a bad thing?</p>
<h2 id="how-much-is-too-much">How much is too much</h2>
<p>Kent Beck, the originator of the term <em>Test Driven Development</em> for sure has a ton of experience
in writing software and in testing it. It might come as a surprise for many that he draws a pretty
tight line between what is actually too much testing<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup>:</p>
<blockquote>
  <p>I get paid for code that works, not for tests, so my philosophy is to test as little as possible
to reach a given level of confidence…</p>
  <p>If I don’t typically make a kind of mistake … I don’t
test for it.</p>
</blockquote>
<p>To me that sounds very reasonable. Blindly striving for a high test coverage just doesn’t cut it. On
the contrary: if a programmer is just guided by his coverage report, he will probably write some
hard to maintain test code. And hard-to-maintain test code will eventually lead to reduced testing
since the damn tests require more and more work to keep them in sync with changes made to the
software. Those tests will get kicked out – and that with good reason!</p>
<p>There is another issue I found with some of my unit testing: Overuse of abstractions. While I’d
consider abstractions in general a desirable and good thing, they really only make sense when there
is the actual need for an abstraction. If you only have one implementation of some functionality in
your code, why go through the effort of generalizing? Since by definition there is only one thing to
abstract about, your abstraction will probably have to be refined when introducing a second
implementation.<br />
But writing unit-tests mandates the use of abstractions since you only want to test some piece of
code in isolation of the rest of the system – for which some kind of interface definitions come in
handy. So you bite the bullet and create your interfaces, change the code around, build mocks and
other scaffolding and hours later start writing your tests…while at the same time you could have
cranked out this extra feature or stomped this nasty bug. Sounds like a tough choice to me.</p>
<h2 id="the-kind-of-software">The kind of software</h2>
<p>When people show me their incredibly cool new test framework or preach about the absolute imperative
of having thoroughly unit-tested code, the examples they come up with usually lend themselves to a
unit-test centric approach. But we rarely have to write the next sorting algorithm or code to
serialize and de-serialize data.<br />
The day-to-day stuff often involves database access, updating a UI,
network code a.s.o. Those things are by far harder to cover by unit-tests and tend to involve some
heavy machinery. Time spent with setting up unit-tests might be spent more effectively otherwise.  </p>
<h2 id="the-kind-of-testing">The kind of testing</h2>
<p>I still consider testing my software with due diligence an integral part of the job. For some code
this might very well be exhaustive unit testing, in other cases a different strategy might prove
the better choice – like moving more into a more global approach where the functionality is tested
as part of a bigger use-case. This kind of testing – often called integration-testing – is much
harder to automate and thus does not always allow for regression testing, but it can be the right
choice and help you to implement <em>and</em> test your code more quickly.<br />
There is another very different flavor of testing I so far omitted: the kind of testing in a
dynamically typed language that makes sure that trivial (or not so trivial) changes do not completely
mess up your code-base. Those tests – I’d rather call them <em>syntactic checks</em> – are a
prerequisite to stay sane. I did a couple of larger ruby programs and it was really painful to come
back to the code at some point later: to find out I had a hard time to introduce changes just
because I broke the code in unintended ways and my test coverage was not high enough to detect it.</p>
<h2 id="striking-a-balance">Striking a balance</h2>
<p>So what would be good advice for that new guy that started in your C++ department yesterday. Test
everything? Strive for high coverage? I’d say yes – but as with every advice this should be taken
with a grain of salt. If you end up with double the amount of code and possibly a different design
I’d say you clearly overshot. In the end it’s not the unit-tests that are responsible for great
software – it’s the talent and the ability of the developer.<br />
On the other hand if the new guy writes your next rails application, the answer is much simpler:
test the shit out of the code!</p>
<h2 id="the-feedback-loop">The Feedback Loop</h2>
<p>[Edit] After some discussion I had at my office I realized I forgot to mention a very important detail that
might well favor the <em>test first and test everything</em> approach – the feedback loop. No matter if you
use unit-tests, integration tests or any other kind of process that helps you validate your software
behaves as expected: you absolutely got to have some way of harvesting feedback.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">ready</span><span class="p">)</span>
  <span class="n">change</span> <span class="n">code</span>
  <span class="n">compile</span> <span class="c1"># if you program in a compiled language</span>
  <span class="n">deploy</span>
  <span class="n">run</span></code></pre></div>
<p>Developing a smartphone app might incur enough of a delay in this cycle to make you fly blind for a
prolonged period of time. I find that less of a problem since this loop can usually be optimized
pretty well (even though I mostly develop for embedded targets). But it’s not unheard of that in
some organizations (e.g. an unnamed company I was working for in the past) not every developer has
the luxury of his own setup and sometimes even has to share the license for the compiler. If you are
stuck in such a situation a comprehensive suite of unittests will definitely make your life easier!</p>
<hr />
<p>[Edit 2] I just found a nice little <a href="http://stoneship.org/essays/tdd-bypasses-your-brain/">article on software testing</a> that contains some very true points
and one really nice quote <a href="https://www.cs.utexas.edu/~EWD/transcriptions/EWD03xx/EWD340.html">from Edsger W. Dijkstra</a>:</p>
<blockquote>
  <p>Today a usual technique is to make a program and then to test it. But: program testing can be a very
effective way to show the presence of bugs, but is hopelessly inadequate for showing their absence.</p>
</blockquote>
<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>see Kent Beck’s reply on stackoverflow to <a href="http://stackoverflow.com/questions/153234/how-deep-are-your-unit-tests">“How deep are unit tests”</a> <a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
              <hr>
              <small>title-image by <a href="https://www.flickr.com/photos/ardinhasaphotography/">Ardinnnn :)</a> (<a href="https://creativecommons.org/licenses/by-nc-sa/2.0/">license</a>)</small>
                <hr>
                <ul class="pager">
                    <li class="previous">
                    <a href="/posts/Android-style-Message-Passing" data-toggle="tooltip" data-placement="top" title="Android Style Message Passing"><i class="fa fa-arrow-left"></i> Older</a>
                    </li>
                    <li class="next">
                    <a href="/posts/choosing-the-Type-of-your-Types" data-toggle="tooltip" data-placement="top" title="Choosing the Type of your Types">Newer <i class="fa fa-arrow-right"></i></a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</article>
<hr>
<script src="/js/d3.min.js"></script>
<script src="/js/tagpie.js"></script>
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                      <a href="/about" title="About">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-user fa-stack-1x fa-inverse"></i>
                            </span>
                      </a>
                    </li>
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://twitter.com/marcontwit">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/marcmo">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github-alt fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    <li>
                      <a href="mailto:&#111;&#108;&#105;&#118;&#101;&#114;&#046;&#109;&#117;&#101;&#108;&#108;&#101;&#114;&#064;&#103;&#109;&#097;&#105;&#108;&#046;&#099;&#111;&#109;" title="drop me a line">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                      </a>
                    </li>
                </ul>
                <p class="copyright text-muted">Copyright &copy; Coldflake Blog 2014
            </div>
        </div>
    </div>
</footer>
<!-- jQuery -->
<script src="/js/jquery.min.js "></script>
<script src="/js/moment.min.js "></script>
<script src="/js/livestamp.min.js "></script>
<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>
</body>
</html>

